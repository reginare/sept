<!DOCTYPE html>
<html>
<head>
    <title>–ö–æ—Ç–æ-–¢–∞–º–∞–≥–æ—á–∏</title>
    <style>
        body {
            font-family: sans-serif;
            /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω */
            background: linear-gradient(to bottom, #ffc0cb, #b0e2ff); /* –†–æ–∑–æ–≤—ã–π -> –ì–æ–ª—É–±–æ–π */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        #game-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            padding: 20px;
            width: 800px;
            text-align: center;
        }

        #room {
            position: relative;
            width: 600px;
            height: 400px;
            background-color: #e0e0e0;
            margin: 20px auto;
            border-radius: 5px;
        }

        .sector {
            position: absolute;
            width: 150px;
            height: 150px;
            /*border: 1px dashed rgba(0, 0, 0, 0.2);*/ /* –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px; /*–ß—Ç–æ–±—ã –±—ã–ª–æ –≤–∏–¥–Ω–æ —Ç–µ–∫—Å—Ç*/
        }

        #sector-bed {
            top: 20px;
            left: 20px;
        }

        #sector-food {
            top: 20px;
            right: 20px;
        }

        #sector-work {
            bottom: 20px;
            left: 20px;
        }

        #sector-play {
            bottom: 20px;
            right: 20px;
        }

        #cat {
            position: absolute;
            font-size: 36px; /*–ß—Ç–æ–±—ã –∫–æ—Ç–∞ –±—ã–ª–æ –≤–∏–¥–Ω–æ*/
            transition: all 0.5s ease-in-out; /* –ü–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ */
        }

        #status-bar {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .status-item {
            font-size: 16px;
        }

        #actions button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 10px;
        }

        #actions button:hover {
            background-color: #3e8e41;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="room">
            <div id="sector-bed" class="sector">üõå</div>
            <div id="sector-food" class="sector">üçñ</div>
            <div id="sector-work" class="sector">üíª</div>
                        <div id="sector-play" class="sector">‚öΩ</div>

            <div id="cat">üê±</div>
        </div>

        <div id="status-bar">
            <div class="status-item">
                –°—á–∞—Å—Ç—å–µ: <span id="happiness">100</span>
            </div>
            <div class="status-item">
                –°—ã—Ç–æ—Å—Ç—å: <span id="hunger">100</span>
            </div>
            <div class="status-item">
                –≠–Ω–µ—Ä–≥–∏—è: <span id="energy">100</span>
            </div>
            <div class="status-item">
                –†–∞–±–æ—Ç–∞: <span id="work">0</span>
            </div>
             <div class="status-item">
                –û—á–∫–∏: <span id="score">0</span>
            </div>

        </div>

        <div id="actions">
            <button onclick="feedCat()">–ü–æ–∫–æ—Ä–º–∏—Ç—å</button>
            <button onclick="putCatToBed()">–£–ª–æ–∂–∏—Ç—å —Å–ø–∞—Ç—å</button>
            <button onclick="makeCatWork()">–†–∞–±–æ—Ç–∞—Ç—å</button>
            <button onclick="playWithCat()">–ò–≥—Ä–∞—Ç—å</button>
        </div>
    </div>

    <script>
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ç–∏–∫–∞
        let happiness = 100;
        let hunger = 100;
        let energy = 100;
        let work = 0;
        let score = 0;

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const happinessElement = document.getElementById('happiness');
        const hungerElement = document.getElementById('hunger');
        const energyElement = document.getElementById('energy');
        const workElement = document.getElementById('work');
        const scoreElement = document.getElementById('score');
        const catElement = document.getElementById('cat');

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            happinessElement.textContent = happiness;
            hungerElement.textContent = hunger;
            energyElement.textContent = energy;
            workElement.textContent = work;
            scoreElement.textContent = score;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–æ—Ç–∞
        function moveCat(sectorId) {
            const sector = document.getElementById(sectorId);
            const cat = document.getElementById('cat');

            // –í—ã—á–∏—Å–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ —Å–µ–∫—Ç–æ—Ä–∞
            const sectorRect = sector.getBoundingClientRect();
            const catRect = cat.getBoundingClientRect();
            const roomRect = document.getElementById('room').getBoundingClientRect();

            // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –∫–æ—Ç–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ —Å–µ–∫—Ç–æ—Ä–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–º–Ω–∞—Ç—ã
            cat.style.left = (sectorRect.left - roomRect.left) + (sectorRect.width / 2) - (catRect.width / 2) + 'px';
            cat.style.top = (sectorRect.top - roomRect.top) + (sectorRect.height / 2) - (catRect.height / 2) + 'px';

        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π
        function feedCat() {
            moveCat('sector-food');
            setTimeout(() => { //–î–∞–µ–º –≤—Ä–µ–º—è –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è
                if (hunger < 100) {
                    hunger = Math.min(100, hunger + 30);
                    happiness = Math.min(100, happiness + 10);
                    updateUI();
                    catElement.textContent = 'üòã';
                    setTimeout(() => { catElement.textContent = 'üê±'; }, 1000); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ—Ç–∞ –≤ –æ–±—ã—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                } else {
                    alert("–ö–æ—Ç–∏–∫ –Ω–µ –≥–æ–ª–æ–¥–µ–Ω!");
                    catElement.textContent = 'üôÖ‚Äç‚ôÇÔ∏è';
                    setTimeout(() => { catElement.textContent = 'üê±'; }, 1000);
                }
            }, 500);


        }

        function putCatToBed() {
            moveCat('sector-bed');
            setTimeout(() => {
                if (energy < 100) {
                    energy = Math.min(100, energy + 50);
                    hunger = Math.max(0, hunger - 10);
                    updateUI();
                    catElement.textContent = 'üò¥';
                  } else {
                    alert("–ö–æ—Ç–∏–∫ –Ω–µ —Ö–æ—á–µ—Ç —Å–ø–∞—Ç—å!");
                    catElement.textContent = 'üôÖ‚Äç‚ôÇÔ∏è';
                    setTimeout(() => { catElement.textContent = 'üê±'; }, 1000);
                }
            }, 500);

        }

        function makeCatWork() {
            moveCat('sector-work');
            setTimeout(() => {
                 if (energy > 20) {
                    energy = Math.max(0, energy - 20);
                    hunger = Math.max(0, hunger - 5);
                    work = Math.min(100, work + 15);
                    score += 10;
                    updateUI();
                    catElement.textContent = 'üë®‚Äçüíª';
                } else {
                    alert("–ö–æ—Ç–∏–∫ —Å–ª–∏—à–∫–æ–º —É—Å—Ç–∞–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã!");
                    catElement.textContent = 'üôÖ‚Äç‚ôÇÔ∏è';
                    setTimeout(() => { catElement.textContent = 'üê±'; }, 1000);
                }
            }, 500);

        }

        function playWithCat() {
             moveCat('sector-play');
             setTimeout(() => {
                if (energy > 10 && happiness < 100) {
                    energy = Math.max(0, energy - 10);
                    happiness = Math.min(100, happiness + 20);
                    hunger = Math.max(0, hunger - 5);
                    updateUI();
                    catElement.textContent = 'üòª';
                    setTimeout(() => { catElement.textContent = 'üê±'; }, 1000);
                } else {
                    alert("–ö–æ—Ç–∏–∫ –Ω–µ —Ö–æ—á–µ—Ç –∏–≥—Ä–∞—Ç—å!");
                    catElement.textContent = 'üôÖ‚Äç‚ôÇÔ∏è';
                    setTimeout(() => { catElement.textContent = 'üê±'; }, 1000);
                }
             }, 500);


        }

        // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏–≥—Ä—ã
        setInterval(() => {
            happiness = Math.max(0, happiness - 1);
            hunger = Math.max(0, hunger - 2);
            energy = Math.max(0, energy - 1);

            if(work > 0) {
                work = Math.max(0, work - 0.5);
            }

            score += 1;

            updateUI();

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ç–∏–∫–∞ (–µ—Å–ª–∏ –æ–Ω –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –¥–µ–π—Å—Ç–≤–∏—è)
            if (catElement.textContent === 'üê±') {
                 if (energy < 30) {
                    catElement.textContent = 'üò¥';
                } else if (hunger < 30) {
                    catElement.textContent = 'üòø';
                } else if (happiness < 30) {
                    catElement.textContent = 'üôÅ';
                }
            }


            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–º–µ—Ä—Ç—å –∫–æ—Ç–∏–∫–∞
            if (happiness === 0 || hunger === 0 || energy === 0) {
                alert("–ö–æ—Ç–∏–∫ —É–º–µ—Ä :(");
                //  –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
                location.reload();
            }
        }, 1000);

        // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        updateUI();

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏ –∫–æ—Ç–∞ (–≤ —Ü–µ–Ω—Ç—Ä–µ –∫–æ–º–Ω–∞—Ç—ã)
        moveCat('sector-bed'); //–ù–∞—á–∏–Ω–∞–µ–º —Å –∫—Ä–æ–≤–∞—Ç–∏
    </script>
</body>
</html>
